<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Cryptizen ‚Äî Pr√©f√©rences</title>
  <link rel="stylesheet" href="options.css"/>
</head>
<body>
  <main class="container">
    <h1>üîê Cryptizen ‚Äî Pr√©f√©rences</h1>

    <section class="card">
      <h2>√âtat</h2>
      <div id="fp">Chargement‚Ä¶</div>
      <div class="row">
        <button id="regen">R√©g√©n√©rer les cl√©s</button>
        <button id="copyPub">Copier cl√©s publiques</button>
      </div>
    </section>

    <section class="card">
      <h2>Comportement</h2>
      <div class="grid">
        <label><input type="checkbox" id="autoEncrypt"> Auto-chiffrer</label>
        <label><input type="checkbox" id="autoDecrypt"> Auto-d√©chiffrer</label>
        <label><input type="checkbox" id="clickToDecrypt"> Cliquer pour d√©chiffrer</label>
        <label><input type="checkbox" id="signMessages"> Signer les messages</label>
      </div>

      <div class="row">
        <label class="inline">
          Pr√©fixe:
          <input id="prefix" placeholder="CRYPTIZEN|"/>
        </label>

        <label class="inline">
          Position du cadenas:
          <select id="lockPos">
            <option value="top-left">Haut gauche</option>
            <option value="top-right">Haut droite</option>
            <option value="bottom-right">Bas droite</option>
            <option value="bottom-left">Bas gauche</option>
          </select>
        </label>

        <button id="savePrefs">Sauvegarder</button>
      </div>

      <p class="hint">
        Raccourci clavier : ouvrez <code>chrome://extensions/shortcuts</code> puis assignez ‚Äúencrypt-current-message‚Äù.
      </p>
    </section>

    <section class="card">
      <h2>Import / Export s√©curis√© des cl√©s priv√©es</h2>

      <div class="gate">
        <label><input type="checkbox" id="bioGate"> Demander une v√©rification biom√©trique / PIN (si disponible)</label>
      </div>

      <div class="row">
        <input type="password" id="bkPass" placeholder="Passphrase de sauvegarde"/>
        <button id="doExport">Exporter (JSON chiffr√©)</button>
      </div>

      <div class="row">
        <input type="file" id="bkFile" accept="application/json"/>
        <input type="password" id="bkPassImport" placeholder="Passphrase de sauvegarde"/>
        <button id="doImport">Importer</button>
      </div>

      <p class="hint">Vos cl√©s priv√©es sont stock√©es chiffr√©es localement. L‚Äôexport cr√©e un fichier JSON chiffr√© par votre passphrase.</p>
    </section>

    <section class="card">
      <h2>Contacts</h2>
      <table id="contacts" class="table"></table>
    </section>

    <section class="card">
      <h2>Configuration active (lecture seule)</h2>
      <pre id="cfgPreview" class="code"></pre>
      <div class="row">
        <button id="exportCfg">Exporter config.json</button>
        <input type="file" id="cfgFile" accept="application/json"/>
        <button id="importCfg">Importer (override)</button>
      </div>
    </section>
  </main>

  <script src="options.js"></script>
</body>
</html>
